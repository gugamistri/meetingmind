# Story 2.1: Main Dashboard & Application Shell

## Status
Draft

## Story
**As a** user conducting meetings,
**I want** a main dashboard where I can access all meeting functionality and see my recent meetings at a glance,
**so that** I can easily manage my meetings, start new recordings, and quickly access previously recorded sessions.

## Acceptance Criteria
1. [ ] Dashboard displays recent meetings with title, date, and duration
2. [ ] Prominent "Start Recording" button accessible from main dashboard
3. [ ] Integration with existing AudioControls component for recording functionality
4. [ ] Dashboard shows meeting statistics (total meetings, total recording time)
5. [ ] Quick access to meeting details view from meeting cards
6. [ ] Responsive design that works across different screen sizes
7. [ ] Navigation to settings, calendar integration, and other key features

## Tasks / Subtasks
- [ ] Task 1: Create Dashboard Layout and Navigation Structure (AC: 6, 7)
  - [ ] Update AppShell component with proper navigation sidebar
  - [ ] Add navigation items for Home, Meetings, Settings, Calendar
  - [ ] Implement responsive navigation collapse for mobile
  - [ ] Add active state styling for current navigation item
  - [ ] Update main content area layout for dashboard content

- [ ] Task 2: Build Main Dashboard Component (AC: 1, 4)
  - [ ] Create Dashboard component with welcome section and time-based greeting
  - [ ] Implement RecentMeetings section with meeting list
  - [ ] Create MeetingCard component for individual meeting display
  - [ ] Add meeting statistics widget (total meetings, total time, today's activity)
  - [ ] Integrate with existing meeting data from backend services
  - [ ] Add empty state for new users with no meetings

- [ ] Task 3: Integrate Recording Controls with Dashboard (AC: 2, 3)
  - [ ] Integrate existing AudioControls component in dashboard
  - [ ] Create prominent recording section with large "Start Recording" button
  - [ ] Add recording status indicator to dashboard header when recording active
  - [ ] Handle recording state changes and update dashboard accordingly
  - [ ] Add real-time recording timer and status when recording is active

- [ ] Task 4: Implement Meeting Navigation and Quick Actions (AC: 5)
  - [ ] Add click handlers to navigate to meeting details from cards
  - [ ] Create quick action buttons on meeting cards (view, export, delete)
  - [ ] Implement search/filter functionality for meeting list
  - [ ] Add pagination or infinite scroll for large meeting lists
  - [ ] Create meeting management context menu with actions

- [ ] Task 5: Connect Dashboard to Backend Services (AC: 1, 4)
  - [ ] Create Dashboard service layer to fetch meeting data
  - [ ] Implement meeting statistics calculations
  - [ ] Add real-time updates when new meetings are created
  - [ ] Handle loading states and error conditions gracefully
  - [ ] Cache meeting data for improved performance

- [ ] Task 6: Update Routing and Application Entry Point (AC: 6, 7)
  - [ ] Replace App.tsx system status view with Dashboard-focused application
  - [ ] Set up React Router for navigation between dashboard, meetings, settings
  - [ ] Update main.tsx to include routing configuration
  - [ ] Add route guards and navigation state management
  - [ ] Implement proper navigation history and back button support

## Dev Notes

### Previous Story Insights
From Stories 1.1-1.5, all backend functionality is complete and ready for UI integration:
- **Audio System (Story 1.2)**: AudioControls component exists and is fully functional
- **Transcription (Story 1.3)**: Backend transcription pipeline is operational
- **AI Summarization (Story 1.4)**: Summary generation system ready for UI integration
- **Calendar Integration (Story 1.5)**: Calendar services available for meeting detection
- **Database Layer**: SQLite with meeting storage, search, and metadata support

### Current UI Component Analysis
Based on existing codebase review:
- **AppShell component**: Basic layout exists but needs navigation enhancement
- **AudioControls component**: Fully featured recording controls ready for dashboard integration
- **Button/Card components**: Basic UI primitives available for dashboard construction
- **App.tsx**: Currently shows system status only - needs complete replacement with dashboard

### Data Models and Database Integration
**Source References**: [Source: architecture/source-tree.md#backend-structure], [Source: Stories 1.1-1.5 implementation records]

The dashboard will integrate with existing database models:
- **meetings table**: Contains all meeting records with metadata
- **calendar_events table**: Calendar integration data from Story 1.5
- **ai_summaries table**: Generated summaries from Story 1.4

Required dashboard data queries:
```typescript
interface DashboardData {
  recentMeetings: Meeting[];
  meetingStats: {
    totalMeetings: number;
    totalDuration: number;
    todaysMeetings: number;
    weeklyActivity: number;
  };
  upcomingEvents?: CalendarEvent[];
}
```

### Frontend Architecture and Component Structure
**Source References**: [Source: architecture/source-tree.md#frontend-structure], [Source: architecture/6-user-interface-architecture.md]

**Component Hierarchy for Dashboard**:
```
Dashboard/
├── DashboardHeader (greeting + stats)
├── RecordingSection (AudioControls integration)
├── RecentMeetings/
│   ├── MeetingList
│   └── MeetingCard (clickable, shows title/date/duration)
├── QuickStats (total meetings, time, activity)
└── UpcomingMeetings (calendar integration)
```

**New Components to Create** (`src/components/dashboard/`):
- `Dashboard.tsx` - Main dashboard component
- `DashboardHeader.tsx` - Welcome section with time-based greeting
- `RecentMeetings.tsx` - Recent meetings list container
- `MeetingCard.tsx` - Individual meeting display card
- `QuickStats.tsx` - Meeting statistics widget
- `RecordingSection.tsx` - Prominent recording controls area

### Navigation and Routing Architecture
**Source References**: [Source: architecture/tech-stack.md#ui-framework], [Source: prd/improvements.md#navigation]

**Required Navigation Structure**:
- **Home** (Dashboard) - Default route
- **Meetings** - Full meeting history with search/filter
- **Settings** - Audio, AI, Privacy preferences
- **Calendar** - Calendar integration management
- **Help** - User documentation and support

**Routing Implementation**:
```typescript
// src/router/AppRouter.tsx
const routes = [
  { path: '/', component: Dashboard },
  { path: '/meetings', component: MeetingHistory },
  { path: '/meetings/:id', component: MeetingDetails },
  { path: '/settings', component: Settings },
  { path: '/calendar', component: CalendarManagement },
];
```

### Integration Points with Existing Services
**Source References**: [Source: Stories 1.2-1.5 implementation records]

**Audio Integration**:
- Use existing `useAudioStore` hook for recording state
- Integrate `AudioControls` component in dashboard recording section
- Connect to audio status updates for real-time feedback

**Meeting Data Integration**:
- Connect to meeting repository services from Story 1.1
- Use existing meeting models and database queries
- Implement real-time updates when meetings are created/modified

**Calendar Integration** (optional enhancement):
- Display upcoming calendar events from Story 1.5 implementation
- Show meeting detection status and auto-start preferences
- Provide quick access to calendar settings

### UI/UX Design Implementation
**Source References**: [Source: prd/improvements.md], [Source: architecture/6-user-interface-architecture.md]

**Design System Elements**:
- **Colors**: Primary Deep Blue, Secondary Light Blue, Success Green, Neutral Slate
- **Typography**: H1 for main title, H3 for sections, Body for content
- **Spacing**: 32px between sections, 16px between list items
- **Cards**: White background, subtle shadow, rounded corners
- **Animations**: 250ms fade-in transitions, 180ms micro-interactions

**Dashboard Layout**:
- Welcome header with time-based greeting ("Good morning, [User]")
- Prominent central "Start Recording" button with primary styling
- Recent meetings section with card-based layout
- Quick stats in sidebar or header area
- Clean, minimal design focusing on primary recording task

### Error Handling and Loading States
**Source References**: [Source: architecture/coding-standards.md#error-handling]

**Required Error Handling**:
- Graceful handling of missing meeting data
- Network error states for backend communication
- Loading skeletons for async data fetching
- Empty states for new users with no meetings
- Recovery options for failed operations

### Testing Requirements
**Source References**: [Source: architecture/coding-standards.md#testing-standards]

**Unit Tests** (`src/components/dashboard/**/*.test.tsx`):
- Dashboard component rendering with mock data
- MeetingCard component interactions and navigation
- Recording section integration with AudioControls
- Navigation state management and routing
- Empty states and loading conditions

**Integration Tests**:
- Dashboard data fetching and display
- Recording controls integration with audio system
- Navigation between dashboard and other views
- Meeting card click navigation to details view

**Testing Frameworks**:
- **Frontend**: Vitest with React Testing Library
- **Component Tests**: Individual component unit tests
- **Integration Tests**: Full dashboard flow testing

## Testing

**Test File Locations**:
- Unit tests: `src/components/dashboard/**/*.test.tsx`
- Integration tests: `src/test/integration/dashboard.integration.test.tsx`
- E2E tests: Dashboard navigation and recording flow tests

**Testing Frameworks**:
- **Frontend**: Vitest with React Testing Library for component testing
- **Routing**: React Router Testing Library for navigation tests
- **State Management**: Mock Zustand stores for isolated testing

**Specific Testing Requirements**:
- Test dashboard renders with mock meeting data
- Verify AudioControls integration and recording functionality
- Test navigation between dashboard and meeting details
- Validate responsive design across different screen sizes
- Test empty states for new users
- Verify meeting card interactions and quick actions
- Test error handling and loading states
- Test time-based greetings and dynamic content

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|---------|
| 2025-08-22 | 1.0 | Initial story creation for Main Dashboard & Application Shell | Scrum Master |

## Dev Agent Record
*This section will be populated by the development agent during implementation*

### Agent Model Used

### Debug Log References

### Completion Notes List

### File List

## QA Results